<html>
  <head>
    <title>Advanced Marker Accessibility</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script src="https://use.fontawesome.com/releases/v6.2.0/js/all.js"></script>"
    <script>
      const process ={env:{}};
      process.env.GOOGLE_MAPS_API_KEY=
      "AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg";
    </script>
    <style>
      #map {
            height: 100%;
          }

          /* 
          * Optional: Makes the sample page fill the window. 
          */
      html,body {
            height: 100%;
            margin: 0;
            padding: 0;
          }
      .heading{
        font-size: large;
        color: blue;
        text-align: center;
      }
    </style>
<script>
  async function initMap() {
  // Request needed libraries.
  const { Map, InfoWindow } = await google.maps.importLibrary("maps");
  const { AdvancedMarkerElement, PinElement } = await google.maps.importLibrary(
    "marker",
  );
  const map = new Map(document.getElementById("map"), 
  {
    zoom: 10,
    center: { lat: 43.386397, lng: -80.300775 },
    mapId: "4504f8b37365c3d0",
  });
  // Set LatLng and title text for the markers. The first marker (Boynton Pass)
  // receives the initial focus when tab is pressed. Use arrow keys to
  // move between markers; press tab again to cycle through the map controls.
  //https://developers.google.com/maps/documentation/javascript/examples/marker-accessibility (multiple markers)
  const citytour = [
    {
      position: { lat: 43.654857466919424, lng: -79.37862431071375 },
      title: "Toronto",
      content:"The major airport of the country",
    },
    {
      position: { lat:43.568228, lng: -79.599887 },
      title: "Mississauga",
      content:"Sauga",
    },
    {
      position: { lat: 43.26218684261511, lng: -79.89242586992502 }, 
      title: "Hamilton",
      content:"The Steeltown",
    },
    {
      position: { lat:42.98285094786302, lng: -81.2424152756183 }, 
      title: "London",
      content:"The Forest City",
    },
    {
      position: { lat: 43.35743844204077, lng: -81.48136790643197 }, 
      title: "Exeter",
      content:"The White Wonder",
    },
  ];
  //the content is the names for the cities as seen in https://en.wikipedia.org/wiki/List_of_city_nicknames_and_slogans_in_Canada#Ontario, https://en.wikipedia.org/wiki/Exeter,_Ontario
  //https://developers.google.com/maps/documentation/javascript/examples/polyline-simple line feature

  const flightPlanCoordinates = [
    { lat: 43.654857466919424, lng: -79.37862431071375  },
    { lat: 43.582990436911444, lng: -79.7288769449274  },
    { lat: 43.568228, lng: -79.599887 },
    { lat: 43.26218684261511, lng: -79.89242586992502 }, 
    { lat: 42.92651877106676, lng: -81.2790150736179}, 
    { lat: 42.98285094786302, lng: -81.2424152756183 },
    { lat: 43.35743844204077, lng: -81.48136790643197 },
  ];
  const flightPath = new google.maps.Polyline({
    path: flightPlanCoordinates,
    geodesic: true,
    strokeColor: "#0000FF",
    strokeOpacity: 1.0,
    strokeWeight: 5,
  });

  
  const icon = document.createElement("div"); 
  icon.innerHTML = '<i class="fa fa-cookie-bite fa-lg"></i>';
  const cookiePin = new PinElement({
    glyph: icon,
    glyphColor: "#FF0000",
    background: "#FFD514",
    borderColor: "#000000",
  });
  const cookie = document.createElement("div");
   cookie.innerHTML = '<i class="fa fa-pizza-slice fa-lg"></i>';
  const pizzaPin = new PinElement({
    glyph: cookie,
    glyphColor: "#FF0000",
    background: "#FFD514",
    borderColor: "#000000",
  });

  // Create an info window to share between markers.
  //const infoWindow = new InfoWindow();

  // Create the markers.
  citytour.forEach(({ position, title,  content }, i) => {
    const pin = new PinElement({
      glyph: `${i + 1}`,
    });
    const marker = new AdvancedMarkerElement({
      position,
      map,
      title: `${i + 1}. ${title +" : "+ content}`,
      content: pin.element,
    });
const faMarker = new AdvancedMarkerElement({
    map,
    position: { lat: 43.582990436911444, lng: -79.7288769449274 },
    content: pizzaPin.element,
    title: "The food break.",
  });
  const snackMarker = new AdvancedMarkerElement({
    map,
    position: { lat: 42.92651877106676, lng: -81.2790150736179  }, 
    content: cookiePin.element,
    title: "The snack break.",
  });

    // Add a click listener for each marker, and set up the info window.
    marker.addListener("click", ({ domEvent, latLng }) => {
      const { target } = domEvent;

      infoWindow.close();
      infoWindow.setContent(marker.title);
      infoWindow.open(marker.map, marker);
    });
  });
  flightPath.setMap(map);
}

initMap();

</script>

</head>
<body>
  <div id="map"></div>
  <script src ="https://maps.googleapis.com/maps/api/js?key=AIzaSyCM-WWHYHIKY-do4kquMy9Z4wQaQx51AuE&callback=initMap&v=weekly"async></script>
  <h1 class="heading">My First Day in Canada</h1>
  <p> These are the places I travelled on the first in Canada </p>
</body>
</html>
